spring:
    config:
        activate:
            on-profile: local
    flyway:
        clean-disabled: false
    datasource:
        url: jdbc:postgresql://localhost:5432/denticheck
        username: admin
        password: admin_password
        driver-class-name: org.postgresql.Driver
    jpa:
        hibernate:
            ddl-auto: validate
        show-sql: true
        properties:
            hibernate:
                format_sql: false
    output:
        ansi:
            enabled: ALWAYS

# AI Service Connection (Localhost access)
# If running API in Docker, this should be http://ai:8000 (handled by env var override in docker-compose)
# If running API in IDE, this connects to localhost:8000 (where AI service is exposed)
ai:
    client:
        url: http://localhost:8000
        timeout: 5000
    analyze:
        timeout: 3m
        enabled: true

ollama:
    enabled: ${OLLAMA_ENABLED:false}
    base-url: ${OLLAMA_BASE_URL:http://localhost:11434}
    model: ${OLLAMA_MODEL:llama3.2:3b}
    generate:
        timeout-ms: ${OLLAMA_GENERATE_TIMEOUT_MS:18000}

upload:
    storage:
        local-dir: ${UPLOAD_LOCAL_DIR:./uploads/community}
        base-url: ${UPLOAD_BASE_URL:http://localhost:8080/uploads/community}

report:
    storage:
        type: local
        local-dir: ./reports
        base-url: http://172.30.1.68:8080/reports

minio:
    endpoint: http://localhost:9000
    access-key: minioadmin
    secret-key: minioadmin
    bucket: denticheck
    report-prefix: reports

admin:
    web:
        refresh-cookie-secure: false
        refresh-cookie-httponly: true
        refresh-cookie-max-age: 30d

jwt:
    enable-development-tokens: true
